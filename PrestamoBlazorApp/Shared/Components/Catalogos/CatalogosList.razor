@inherits CommonBase
@using UIClient.Pages.Components;

<MudCard Outlined="true">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h4">Administración de @CatalogoName</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        @{
            if (ValidCatalogoSpecification)
            {
                if (Catalogos != null)
                {
                <ListBaseForCrud TItem="Catalogo" ToolbarButtons="Buttons(this)" SelectedItem="SelectedItem" >
                    <MudTable Items="Catalogos" MultiSelection="false" Outlined="true" Dense="true" Hover="true" Bordered="false" Striped="true"
                               Filter="FilterFunc" @bind-SelectedItems="@selectedItems" @bind-SelectedItem="SelectedItem">
                        <ToolBarContent>
                            <MudText Typo="Typo.h6">Administracion de Catalogos</MudText>
                            <MudMenu Color="MudBlazor.Color.Primary" Icon="@Icons.Material.Rounded.Inventory2" DisableElevation="true" OffsetY="true">
                                <MudMenuItem OnClick="()=>PrintListado(1)"> Pdf </MudMenuItem>
                                <MudMenuItem OnClick="()=>PrintListado(2)"> Excel</MudMenuItem>
                            </MudMenu>
                            <MudSpacer />
                            <MudTextField @bind-Value="SearchValue" Placeholder="Nombre" Adornment="Adornment.Start" Immediate="true" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
                        </ToolBarContent>
                        <HeaderContent>
                            <MudTh>Codigo</MudTh>
                            <MudTh>Nombre</MudTh>
                        </HeaderContent>
                        <RowTemplate Context="Catalogo">
                            <MudTd>@Catalogo.Codigo</MudTd>
                            <MudTd>@Catalogo.Nombre</MudTd>
                        </RowTemplate>
                        <PagerContent>
                            <MudTablePager />
                        </PagerContent>
                    </MudTable>
                </ListBaseForCrud>
                }
                else
                {
                    <MudText> Cargando datos por favor espere </MudText>
                }
            }
            else
            {
                <MudText> Lo siento no puedo mostrar contenido debido al error numero vmp01, comunicar al departamento tecnico del mismo    </MudText>
            }
        }
    </MudCardContent>
</MudCard>