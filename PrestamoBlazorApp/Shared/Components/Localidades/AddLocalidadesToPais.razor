@inherits BaseForCreateOrEdit
<EditForm Model="@Localidad" OnValidSubmit="SaveLocalidad" OnInvalidSubmit="RaiseInvalidSubmit">
    <DataAnnotationsValidator />
    <MudDialog>
        <DialogContent>

            <MudGrid>
                <MudItem md="12">
                    @if (territorios.Count() > 0)
                    {
                        <MudSelect T="DivisionTerritorial" @bind-Value="SelectedDivisionTerritorial" Label="Tipo Localidad a Agregar">

                            @foreach (var item in territorios)
                            {
                                <MudSelectItem Value="@item">@(item.Nombre)</MudSelectItem>
                            }
                        </MudSelect>
                    }
                    @if (localidadesByTipo.Count() > 0)
                    {
                        <MudSelect T="Localidad"
                               @bind-Value="LocalidadTipoSelected"
                               Label="@($"Agregar {SelectedDivisionTerritorial.Nombre} a { LocalidadTipoSelected.Nombre}")">

                            @foreach (var item in localidadesByTipo)
                            {
                                <MudSelectItem Value="@item">@(item.Nombre)</MudSelectItem>
                            }
                        </MudSelect>
                    }
                </MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem md="12">
                    <MudTextField @bind-Value="Localidad.Codigo" T="string" Label="Codigo" For="@(() =>Localidad.Codigo)"></MudTextField>
                    <MudTextField @bind-Value="Localidad.Nombre" T="string" Label="Nombre" For="@(() => Localidad.Nombre)"></MudTextField>
                </MudItem>
            </MudGrid>
        </DialogContent>
        <DialogActions>
            <MudButton Variant="Variant.Filled" OnClick="()=>CloseModal()" Class="px-10">Cancelar</MudButton>
            <MudButton Variant="Variant.Filled" ButtonType="ButtonType.Submit" Color="MudBlazor.Color.Primary" Class="px-10">Guardar</MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>


