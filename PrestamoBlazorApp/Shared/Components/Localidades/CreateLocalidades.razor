@inherits BaseForCreateOrEdit;
<MudDialog>
    <DialogContent>
        <EditForm Model="@Localidad" OnValidSubmit="SaveLocalidad" OnInvalidSubmit="RaiseInvalidSubmit">
            <DataAnnotationsValidator />

            <MudGrid>
                <MudItem md="12">
                    @if (territorios.Count() > 0)
                    {
                        <MudSelect T="DivisionTerritorial" @bind-Value="SelectedTipoLocalidad" Label="Tipo Loc. Padre">

                            @foreach (var item in territorios)
                            {
                                <MudSelectItem Value="@item">@(item.Nombre)</MudSelectItem>
                            }
                        </MudSelect>
                    }
                    @if (localidadesByTipo.Count() > 0)
                    {
                        <MudSelect T="Localidad"
                                   @bind-Value="LocalidadTipoSelected"
                                   Label="@($"Agregar {SelectedTipoLocalidad.Nombre} a { LocalidadTipoSelected.Nombre}")">

                            @foreach (var item in localidadesByTipo)
                            {
                                <MudSelectItem Value="@item">@(item.Nombre)</MudSelectItem>
                            }
                        </MudSelect>
                    }
                </MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem md="12">
                    <MudTextField @bind-Value="Localidad.Codigo" T="string" Label="Codigo"></MudTextField>
                    <MudTextField @bind-Value="Localidad.Nombre" T="string" Label="Nombre" For="@(() => Localidad.Nombre)"></MudTextField>
                </MudItem>
            </MudGrid>
        </EditForm>
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" OnClick="()=>CloseModal()" Class="px-10">Cancelar</MudButton>
        <MudButton Variant="Variant.Filled" Color="MudBlazor.Color.Primary" OnClick="SaveLocalidad" Class="px-10">Guardar</MudButton>
    </DialogActions>
</MudDialog>
@code {

}
