@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Hosting
@using PrestamoBlazorApp.Shared.Components.Forms
@using PrestamoBlazorApp.Shared.MudUtils;


<AuthorizedUser />
<GeneralOverload SetOverLoad="SetOverLoad"></GeneralOverload>
<MudThemeProvider Theme="_currentTheme" />
<MudDialogProvider />
<MudSnackbarProvider />
<AuthorizeView>
    <MudLayout>
        <MudAppBar>
            <MudIconButton  Icon="@Icons.Material.Filled.Menu" Color="MudBlazor.Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
            @TextoForDrawer
        </MudAppBar>
        <MudDrawer @bind-Open="@DrawerOpen">
            <MudSwitch T="bool" Value="@AuthMenu" Color="MudBlazor.Color.Success" Label="@TextoForAuth" ValueChanged="Handle_AuthMenuChange" />
            @if (AuthMenu)
            {
                <NavMenuAuth />
            }
            else
            {
                @if (IsDevelopment)
                {
                    <NavMenuNoAuth />
                }
                else
                {
                    <NavMenuAuth />
                }
            }

        </MudDrawer>

        <MudMainContent>
            @Body

        </MudMainContent>
    </MudLayout>

</AuthorizeView>
