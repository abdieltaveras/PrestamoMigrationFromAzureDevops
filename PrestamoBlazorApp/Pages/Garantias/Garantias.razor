@page "/garantias"
@inherits BaseForCreateOrEdit
@*<h1>Garantias  <button class="btn btn-primary" @onclick="()=>CreateOrEdit()">Agregar</button></h1>*@


<!--<button class="btn btn-primary" @onclick="GetGarantias">Get By Param</button>-->
@*<button class="btn btn-primary" @onclick="GetAll">Get All</button>*@
<!--<button class="btn btn-primary" @onclick="Clear">Limpiar lista</button>-->
<!--<div class="modal fade" id="ModalCreateOrEdit" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                @if (Garantia.IdGarantia > 0)
                {
                    <h5 class="modal-title" id="edtMarcaTitel">Editar Marca</h5>
                }
                else
                {
                    <h5 class="modal-title" id="edtMarcaTitel">Crear Marca</h5>
                }

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="col-md-12">
                <EditForm autocomplete="off" Model="@Garantia" OnValidSubmit="SaveGarantia" OnInvalidSubmit="RaiseInvalidSubmit">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="codigo">Codigo</label>-->
@*<InputText id="codigo" class="form-control col-md-4" @bind-Value="Convert.ToString(Garantia.IdMarca)"></InputText>*@
<!--<InputNumber  id="idmarca" class="form-control col-md-4" @bind-Value="Garantia.IdMarca"></InputNumber>
</div>
<div class="form-group">
    <label for="nombre">Nombre</label>
    <InputNumber id="idmodelo" class="form-control col-md-6" @bind-Value="Garantia.IdModelo" ></InputNumber>-->
@*<InputText id="nombre" class="form-control col-md-6" @bind-Value="Convert.ToString(Garantia.IdModelo)"></InputText>*@
<!--</div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary" @onclick="()=>SaveGarantia()">Guardar</button>
                            </div>
                        </div>
                    </div>
                </EditForm>
            </div>

        </div>
    </div>
</div>-->
@if (loading)
{
    <div class="loader">Cargando datos, espere...</div>
}
<div class="row">
    <div class="col-md-12">
        <div class="search float-right">
            <!--<EditForm autocomplete="off" Model="@SearchGarantia" OnValidSubmit="@GetGarantias">
                <DataAnnotationsValidator />
                <ValidationSummary />
                    <div class="input-group">
                        <InputText id="nombres" @bind-Value="SearchGarantia.Nombre" placeholder="Nombre" class="form-control" />
                        <span>
                            <button type="submit" class="btn btn-info">Buscar</button>
                        </span>
                    </div>-->
            @*<div></div>
                @if (Garantias.Count() > 0)
                {
                    <label>Total de Datos encontrados para su peticion @Garantias.Count().ToString()</label>
                }*@

            <!--</EditForm>-->
        </div>
    </div>
</div>
@if (loading)
{
    <div class="loader">Cargando datos, espere...</div>
}
<div class="row">
    <div class="col-md-12">
        <table class="table table-responsive-md table-hover">
            <thead>
                <tr>
                    <th>Numeracion</th>
                    <th>Tipo</th>
                    <th>Descripcion</th>
                    <th>Operacion</th>
                </tr>
            </thead>
            <tbody>
                @if (garantias.Count() > 0)
                {
                    @foreach (var item in garantias)
                    {
                <tr>
                    <td>@item.NoIdentificacion</td>
                    @if (item.DetallesJSON != null)
                    {
                        @if (item.IdTipoGarantia == 1)
                        {
                            <td>@TiposClasificacionGarantia.Inmobiliaria</td>
                        }
                        @if(item.IdTipoGarantia == 2)
                        {
                            <td>@TiposClasificacionGarantia.Mobiliaria</td>
                        }

                        <td>@item.DetallesJSON.Descripcion</td>

                    }

                    <td>
                        <a href="@($"garantias/createoredit/{item.IdGarantia}")" title="editar" class="btn btn-outline-primary">
                            <i class="oi oi-pencil"></i>
                        </a>
                    </td>
                    @*<td> <button @onclick="()=>CreateOrEdit(item.IdGarantia)" class="btn btn-info"> Editar </button></td>*@
                </tr>

                    }
                }
                else
                {
                    <p> no existen datos</p>

                }
            </tbody>
        </table>
    </div>
</div>

