@page "/clientes/searchbycolumn"
@using PrestamoBlazorApp.Shared.Components.Clientes
@inject IDialogService DialogService

<SearchClientesByProperty Columns="cols" @bind-Value="Cliente"></SearchClientesByProperty>
<MudButton OnClick="ShowClientes">
    Show Clientes
</MudButton>
<MudChip>Cliente Seleccionado: @Cliente.NombreCompleto</MudChip>
@code{
    string[] cols = { "Nombres", "Apellidos" };

    Cliente Cliente { get; set; } = new Cliente();
    List<Referencia> Referencias = new List<Referencia>();
    private async Task ShowClientes()
    {
        var parameters = new DialogParameters { ["Columns"] = cols };
        DialogOptions dialogOptions = new DialogOptions { MaxWidth = MaxWidth.Medium, FullWidth = true,  CloseButton = true };
        var dialog = DialogService.Show<SearchClientesByProperty>("Seleccionar Cliente", parameters,dialogOptions);
        var result = await dialog.Result;

        if (!result.Cancelled)
        {
            Cliente = (Cliente)result.Data;
        }
    }
    private async Task ShowReferencias()
    {
        var parameters = new DialogParameters { ["Referencias"] = Referencias };
        DialogOptions dialogOptions = new DialogOptions { MaxWidth = MaxWidth.Medium, FullWidth = true, CloseButton = true };
        var dialog = DialogService.Show<PrestamoBlazorApp.Shared.Components.Clientes.Referencias.ListInfoReferencias>("Listado de Referencias", parameters, dialogOptions);
        var result = await dialog.Result;

        if (!result.Cancelled)
        {
            @*Cliente = (Cliente)result.Data;*@
        }
    }
}
