@page "/clientes/CreateOrEdit"
@page "/clientes/CreateOrEdit/{idCliente:int}"
@*@using PrestamoBLL.Entidades;*@
@*@using PrestamoBlazorApp.Shared;*@
@*@using PrestamoBlazorApp.Pages.Clientes;
    @using Microsoft.AspNetCore.WebUtilities*@
@*@inject NavigationManager NavigationManager*@




@inherits BaseForCreateOrEdit
<div class="grid-container">
    <EditForm Model="@cliente" OnValidSubmit="@SaveCliente">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="bg-secondary">
            <h3 class="text-left">Crear o Editar clientes</h3>
            <div class="text-label-align">
                <button id="btnGuardar" type="submit">Guardar</button>
                @*<button id="btnsh" type="button" onclick="() =>$('#btnsh').prop('disabled',true)>show hide</button>*@
            </div>
        </div>

        @if (loading)
        {
            <div class="loader">Cargando...</div>
        }
        <RadzenTabs style="height: 880px">
            <Tabs>
                <RadzenTabsItem Text="Generales" @onclick="SetMask">
                    <div class="row">
                        <GeneralesClienteUi Ocupaciones="Ocupaciones" cliente="cliente"  disableCodigo="disableCodigo" TextoForActivo="Si" 
                        FotosDocIdentificacion="FotosDocIdentificacion" FotosRostroCliente="FotosRostroCliente"  RemoveImages="RemoveImages"  SetImages="SetImages" />
                    </div>>
                </RadzenTabsItem>
                @if (cliente.TieneConyuge || cliente.IdEstadoCivil == (int)EstadosCiviles.Casado)
                {
                    <RadzenTabsItem Text="conyuge">
                        <ConyugeUI conyuge=@conyuge></ConyugeUI>
                    </RadzenTabsItem>
                }
                <RadzenTabsItem Text="Direccion">
                    <DireccionUI direccion=@direccion />
                    @*<DireccionUI direccion=@direccion cliente=@cliente />*@
                </RadzenTabsItem>
                <RadzenTabsItem Text="Laborales">
                    <LaboralUI infoLaboral=@infoLaboral />
                </RadzenTabsItem>
                <RadzenTabsItem Text="Referencias">
                    @for (int i = 0; i < referencias.Count; i++)
                    {
                        <InputReferencia referencia=@referencias[i] Index=@i />
                    }
                </RadzenTabsItem>
            </Tabs>
        </RadzenTabs>
    </EditForm>
    @*<EventConsole @ref="@console"> </EventConsole>*@

</div>





