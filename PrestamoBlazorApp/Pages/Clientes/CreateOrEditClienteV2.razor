@page "/clientes/CreateOrEditV2"
@page "/clientes/CreateOrEditV2/{idCliente:int}"
@using PrestamoBlazorApp.Shared.Components.Forms
@using PrestamoBlazorApp.Shared.Components.Forms.InputReferencia

@inherits BaseForCreateOrEdit
<EditForm Model="@Cliente">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <MudGrid>
        <MudItem xs="12" sm="12">
            <MudButton OnClick="SaveCliente">Guardar</MudButton>
        </MudItem>

        <MudItem xs="12" sm="3">

            <MudText>GENERALES</MudText>
            <GeneralesClienteUi Ocupaciones="Ocupaciones" cliente="Cliente" AllowInputCodigo=false OnTieneConyugeChange=@UpdateTieneConyuge OnEstadoCivilChange=@UpdateEstadoCivil
                                FotosDocIdentificacion="FotosDocIdentificacion" FotosRostroCliente="FotosRostroCliente" RemoveImages="RemoveImages" SetImages="SetImages" />

        </MudItem>
        <MudItem xs="12" sm="3">
            <MudText>Direccion</MudText>
            <DireccionUI direccion=@Direccion />
        </MudItem>
        @if (Cliente.TieneConyuge || Cliente.IdEstadoCivil == (int)EstadosCiviles.Casado)
        {

            <MudItem xs="12" sm="3">
                <MudText>Conyuge</MudText>
                <ConyugeUI conyuge=@Conyuge></ConyugeUI>
            </MudItem>
        }
        
        <MudItem xs="12" sm="3">
        <MudItem xs="12" sm="12">
            <LaboralUI infoLaboral=@Cliente.InfoLaboralObj/>
        </MudItem>
        <MudItem xs="12" sm="12">
            <MudButton OnClick="()=>AddReferencia(new Referencia())" Variant="Variant.Filled">Agregar Referencias</MudButton>
            <PrestamoBlazorApp.Shared.Components.Clientes.Referencias.ListInfoReferencias Referencias="Referencias" OnSelectReferencia="AddReferencia" />
        </MudItem>
        </MudItem>
    </MudGrid>
</EditForm>


